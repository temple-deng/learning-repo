# 时间

首先确定一点就是时间戳是一个绝对时间，这个时间戳对于世界各地来说都是相同的，就比如现在的时间是 Wed Dec 04 2024 23:52:40 GMT+0800 (北京标准时间)，就是 2024-12-04 23:52:40，换成时间戳就是 1733327560318。然后就在这同一时刻，不管在世界哪个地方上的浏览器里面，你获取时间戳，理论上都应该是这个值，Java 里面的 Instant 就代表这样一个时间。

不同的是，一个时间戳代表的这一个瞬间，在不同的地区所处的时刻不一样，就比如北京时间是晚上 23:52，那换成日本时间的话应该就是 12-05 00:52 了，而此时伦敦时间是 12-04 15:52。这一点需要搞清楚，理论上我们敲代码的时候直接使用时间戳没啥问题。


但是怕的就是最近那个 bug 中的场景，就是我们要把接口中的时间参数转换成某天的开始，某天的结束，这种情况下，就比较容易出错了。

这个例子其实也很简单，我们的接口只能查30天内的数据，假设现在 12-04 12:00 北京时间，然后呢东京的用户，先获取一个时间，然后减去30天，就是北京的时间
11-04 12:00，这时候是东京时间 11-04 13:00，然后呢，再计算其当天开始时间，即东京时间 11-04 00:00，但是这个时候是北京时间 11-03 23:00，然后你把
这个时间戳转到后端，后端就处理不了了。

## ISO 8601

这种格式基本就是我们常用的格式，年月日时分秒，然后位数固定，不足补0。但是具体格式还分两种，一种是只有数字，那就是 20241204123000 这种？没试过不知道准不准，反正 js Date 是解析不了。另一种就是我们常见的使用 - 分隔日期，:分隔时间。

然后说下时区的偏移表示，这个注意在时间后面，如果刚好是 UTC 零时区，也就是格林尼治时间，就是最后加个Z，12:40:23Z，其他时区就加时差，比如 12:40:23+08:00，注意这个时间部分理论上就已经是加上时间以后的了。    

比如北京时间这个 Thu Dec 05 2024 00:18:56 GMT+0800 (香港标准时间)。
如果使用 date.toISOString()，就返回 '2024-12-04T16:18:56.603Z'。   

然后另外一点就是日期和时间一起表示的时候，就在中间加个 T，就像上面那样。  

### 时间段

然后这个表示法竟然还包括了怎么表示一个时间段，语法就是开头是字母 P，然后后面就是各个时间数字跟时间单词的大写首字母。比如 P1Y3M5DT6H7M30S。注意T还是存在的。

## GMT

GMT 就是格林尼治时间 Greenwich Mean Time，但是这个时间因为地球自转的问题不太准，所以现在就都使用原子钟的 UTC 时间了。然后使用的时候基本可以看成相等的。  

各种表示的区别：   

```js
const date = new Date();
date;
// Thu Dec 05 2024 00:30:05 GMT+0800 (香港标准时间)
date.toISOString()
'2024-12-04T16:30:05.775Z'

date.toGMTString()
'Wed, 04 Dec 2024 16:30:05 GMT'

date.toUTCString()
'Wed, 04 Dec 2024 16:30:05 GMT'
```   

GMT 和 UTC 格式看起来是一样的，而且不太标准感觉，不如 ISO 的格式