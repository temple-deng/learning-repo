## 0613  

### 对 effect 的滥用

> 摘自 https://juejin.cn/post/7105940800848003086

回到开篇的例子：
当你希望状态a变化后发起请求，首先应该明确，你的需求是：状态a变化，接下来需要发起请求还是
某个用户行为需要发起请求，请求依赖状态a作为参数？    

如果是后者，这是用户行为触发的副作用，那么相关逻辑应该放在Event handlers中。   

假设之前的代码逻辑是：  

- 点击按钮，触发状态a变化
- useEffect执行，发送请求

应该修改为：   

- 点击按钮，在事件回调中获取状态a的值
- 在事件回调中发送请求


经过这样修改，状态a变化与发送请求之间不再有因果关系，后续对状态a的修改不会再有无意间触发请求的顾虑。

