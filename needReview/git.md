# Git 版本控制管理

```git

git config --unset user.name
// 取消某项设置，应该是可以加 --global 或者 --system 来取消全局或者系统级别
// 的设置

git cat-file
// 这个命令可以查看仓库对象的内容或者类型和尺寸等信息
git cat-file -p <object>   // 基于对象的类型打印出对象的内容

git rev-parse <hash prefix>  // 根据对象一部分名称检索出整个对象名

git ls-files    // 展示暂存区和工作树中文件的信息

options:  

-c, --cached ： 展示缓存的文件（默认）
-d, --deleted : 展示删除了的文件
-m, --modified : 展示修改了的文件
-s, --staged : 展示暂存的内容的文件名字，模式位与暂存number

git write-tree // 从当前索引创建一个树对象
```    

## 第3章 起步

### 3.3 配置文件

Git 的配置文件全部是简单的 .ini 文件风格的文本文件。记录了很多 Git 命令使用的各种选项和设置。有的
设置表示纯个人喜好，有些则是对版本库的正常运作非常重要，再之外的一些设置会稍微改变命令的行为。   

Git 支持不同层次的配置文件，按照优先级递减排序为：   

+ .git/config: 版本库的特定配置，可用 --file 选项修改，是默认选项。
+ ~/.gitconfig: 用户特定的配置设置，可用 --global 选项修改。
+ /etc/gitconfig: 系统范围的配置设置，可用 --system 修改。    

可以用 --unset 选项来移除设置：   

`$ git config --unset --global user.email`     

配置命令别名：   

`$ git config --global alias.show-graph "log --graph --abbrev-commit --pretty=oneline"`    

## 第4章 基本的 Git 概念

### 4.1.1 版本库

在版本库中，Git 维护两个主要的数据结构：对象库和索引。对象库在复制操作时能进行有效复制，索引是暂时的信息，
对版本库来说是私有的。    

### 4.1.2 Git 对象类型

对象库（注意是对象库不是版本库）是 Git 版本库实现的心脏。它包含你的原始数据文件和所有日志消息、作者信息、日期，
以及其他用来重建项目任意版本或分支的信息。   

Git 放在对象库里的对象只有4中类型：块(blob)、目录树(tree)、提交(commit)和标签(tag)。这4种原子对象
构成 Git 高层数据结构的基础。    

+ 块(blob)   

文件的每一个版本表示为一个块(blob)。一个 blob 保存一个文件的数据，但不包含任何关于这个文件的元数据，
甚至连文件名也没有（文件名应该是在树对象中）。    

+ 目录树（tree）    

一个目录树代表一层目录信息。它记录 blob 标识符、路径名和在一个目录里所有文件的一些元数据（应该就是一串数字，
包括一些权限的数据，剩下的还不知道）。它也可以递归引用其他目录树或子树对象，从而建立一个包含文件和子目录
的完整层次结构。    

+ 提交对象（commit）    

一个提交对象保存版本库中每一次变化的元数据，包括作者、提交者、提交日期和日志消息。每一个提交对象指向一个目录
树对象，这个目录树对象在一张完整的快照中捕获提交时版本库的状态，大多数提交都有一个父提交。    

+ 标签（tag）    

一个标签对象分配一个任意的且人类可读的名字给一个特定对象，通常是一个提交对象。    

随着时间的推移，所有信息在对象库中会变化和增长，项目的编辑、添加和删除都会被跟踪和建模，为了有效地利用磁盘空间
和网络带宽，Git把对象压缩并存储在打包文件（pack file）中，这些文件也在对象库里。    

貌似这4种对象都是二进制文件，所以直接 cat 看的话是乱码，可以使用 `git cat-file -p <hash>` 来
查看文件的内容，`-p` 选项是根据文件的类型来打印文件的内容。    

blob 对象通常就是文件的内容，树对象像下面这样子：    

```
100644 blob f169027b8........  .babelrc
100644 blob 3d8b7ec..........  .eslintrc
040000 tree 28b16c56.........  admin
040000 tree aea1e5a2.........  client
100644 blob e9f31274.........  index.js
```    

提交对象的话是这个样子：   

```
tree 35dbbe69...........
parent 489696bd..........
author dengbo <dengbo@unitedstack.com> 1510303212 +0800
committer Rookie <731401082@qq.com> 1510308099 -0600

bug fix
```   

话说作者和提交者后面那两段内容我也不知道什么意思。    

### 4.1.3 索引

索引也是一个临时的、动态的二进制文件。使用 `git ls-files` 命令查看。    


