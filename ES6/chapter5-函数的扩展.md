# 5. 函数的扩展

标签： 

---

```
 1. 函数参数的默认值
 2. rest参数
 3. 扩展运算符
 4. 扩展运算符的应用
 5. 箭头函数
 6. 函数绑定
```
 ---

###　     1.函数参数的默认值
　　　　　指定了函数参数的默认值之后，函数的length属性，将返回没有指定默认值的参数个数，也就是说，指定了默认值后，length属性将失真。  
　　　　　如果传入undefined，将触发该参数等于默认值，null则没有这个效果。
<br>
<br>
###　     2.rest参数
　　　　　rest参数形式为 ...变量名，用于获取函数的多余参数，rest参数搭配的变量是一个数组，该变量将多余的参数放入数组中。
```javascript
    function foo(a, b, ...values) {
    console.log(values);
    }
    foo(1,2,3,4);
    // [3,4]
```
　　　　　rest参数之后不能再有参数，即只能为最后一个参数，否则会报错。  
　　　　　函数的length属性，不包括rest参数。
<br>
<br>
###　     3.扩展运算符
　　　　　扩展运算符就是三个点 ... ，好比rest参数的逆运算，将一个数组转换为逗号分隔的参数序列。主要用于函数调用。
<br>
<br>

###     4.  扩展运算符的应用
+ *合并数组*
```javascript
var arr1 = ['a', 'b'];
var arr2 = ['c'];
var arr3 = ['d', 'e'];
[...arr1, ...arr2, ...arr3];
```
+ *扩展运算符可以与解构赋值结合起来，用于生成数组。*
```javascript
var [a, ...rest] = [1,2,3,4];
//rest == [2,3,4]
```
+ *扩展运算符还可以将字符串转为真正的数组。*
```javascript
[...'hello']
// [ "h", "e", "l", "l", "o" ]
```
上面的写法，有一个重要的好处，那就是能够正确识别32位的Unicode字符。  

+ *任何Iterator接口的对象，都可以用扩展运算符转为真正的数组。*
```javascript
var nodeList = document.querySelectorAll('div');
var array = [...nodeList];
```
对于那些没有部署Iterator接口的类似数组的对象，扩展运算符就无法将其转为真正的数组。但是可以用Array.from()呀。
<br>
<br>
###　     5.箭头函数
```javascript
    var f = v => v;
    //等同于
    function f (v) {
    return v;
    }
    //如果不需要参数或者需要多个参数，就用圆括号代表参数部分。
    //如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用return语句返回。
    //由于大括号被解释为代码块，所以如果箭头函数直接返回一个对象，必须在对象外面加上括号。
```
 　　　　　箭头函数有几个使用注意点。

　　　　　（1）函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。

　　　　　（2）不可以当作构造函数，也就是说，不可以使用new命令，否则会抛出一个错误。

　　　　　（3）不可以使用arguments对象，该对象在函数体内不存在。如果要用，可以用Rest参数代替。

　　　　　（4）不可以使用yield命令，因此箭头函数不能用作Generator函数。
<br>
<br>
###　     6.函数绑定
　　　　　函数绑定运算符是并排的两个双冒号（::），双冒号左边是一个对象，右边是一个函数。该运算符会自动将左边的对象，作为上下文环境（即this对象），绑定到右边的函数上面。
　　　　　如果双冒号左边为空，右边是一个对象的方法，则等于将该方法绑定在该对象上面。
　　　　　由于双冒号运算符返回的还是原对象，因此可以采用链式写法。