# 内存泄漏

JS的垃圾回收机制使用的是“引用计数的方法”，当一个值的引用次数为0，就表示这个值不再用到了，因此
可以将这块内存释放。  

对于全局变量来说，全局变量的生存周期是永久的，除非我们主动销毁这个全局变量。  

对于函数作用内声明的局部变量来说，当退出函数时，如果不存在闭包，这些变量即
失去了价值，都会随着函数调用的结束而被销毁。但如果局部变量被封闭在闭包形成的环境中，这个局部变量
便能一直生存下去。  

我们可以手动将这些变量设为null，来释放内存空间。  

```JavaScript
const arr = [1, 2, 3, 4];
console.log('hello world');
```  
上面代码中，数组[1, 2, 3, 4]是一个值，会占用内存。变量arr是仅有的对这个值的引用，因此引用次数为1。尽管后面的代码没有用到arr，它还是会持续占用内存。
如果增加一行代码，解除arr对[1, 2, 3, 4]引用，这块内存就可以被垃圾回收机制释放了。  

```JavaScript
let arr = [1, 2, 3, 4];
console.log('hello world');
arr = null;
```  
