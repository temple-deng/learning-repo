# 0910    

<!-- TOC -->

- [0910](#0910)
  - [音视频内容](#音视频内容)
    - [编码过程](#编码过程)
    - [音频](#音频)
    - [封装格式](#封装格式)

<!-- /TOC -->

## 音视频内容

> 摘自 https://juejin.cn/post/7002288264413446157

视频是由图片构成的，图片是由像素构成的，假设尺寸为 1024*768。每个像素由RGB构成，每个8位，共24位。   

假设帧率是30，那么每秒钟的视频的尺寸如下：30帧x1024x768x24=566231040Bits=70778880Bytes   


### 编码过程    

之所以能够对视频的中图片进行压缩，是因为视频和图片具有以下特点:    

- 空间冗余：图像的相邻像素之间有较强的相关性，一张图片相邻像素往往是渐变的，不是突变的，没必要每个像素都完整地保存，可以隔几个保存一个，中间的用算法计算出来。
- 时间冗余：视频序列的相邻图像之间内容相似。一个视频中连续出现的图片也不是突变的，可以根据已有的图片进行预测和推断。
- 视觉冗余：人的视觉系统对某些细节不敏感，因此不会每一个细节都注意到，可以允许丢失一些数据。
- 编码冗余：不同像素值出现的概率不同，概率高的用的字节少，概率低的用的字节多，类似霍夫曼编码（Huffman Coding）的思路。

经过编码之后，视频由一帧帧的图片，变成了一串串让人看不懂的二进制代码，因为编码的方式(算法)的不同，
所以就有了编码格式的区分。常见的编码格式有 H.264,MPEG-4,VP8等。    

### 音频    

模拟信号是连续的，在传输时特别容易受干扰，所以在模拟信号在传输时经常要转化成不连续的数字信号。转化的过程主要包括：采样、量化、编码等过程。   

你可以把采样理解为打点，在0-1s内打48000个点，就采样了48000次，采样率就是48000。    

量化是指在纵轴(y轴)上对声音进行数字化，决定了y轴的范围。比如用16bit的数据表示声音的一个采样，16bit表示的范围是[-32768,32767]，供65536个可能的取值。   

音频的比特率（1s种音频的大小）计算方式为: 音频码率=采样大小\*采样率\*声道。   

音频常见的编码方式有：WAV、MP3和AAC格式。    

### 封装格式    

我们把视频数据、音频数据打包到一起，然后再添加一些基本信息，例如分辨率、时长、标题等，构成一个文件，
这个文件称为封装格式。常见的封装格式有MP4,MOV,MPEG,WEBM等。    

这里只要清楚一下封装格式和编码格式不是一个东西。   

ffmpeg 竟然可以直接转换封装格式。。。。    