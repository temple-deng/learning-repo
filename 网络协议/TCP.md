# TCP

> 摘自http://www.ruanyifeng.com/blog/2017/06/tcp-protocol.html

最底层的以太网协议（Ethernet）规定了电子信号如何组成数据包（packet），解决了子网内部的点对点通信。但是，以太网协议不能解决多个局域网如何互通，这由 IP 协议解决。    

以太网数据包（packet）的大小是固定的，最初是1518字节，后来增加到1522字节（15KB ）。其中， 1500 字节是负载（payload），22字节是头信息（head）。    

IP 数据包在以太网数据包的负载里面，它也有自己的头信息，最少需要20字节，所以 IP 数据包的负载最多为1480字节。    

![payload](http://image.beekka.com/blog/201205/bg2012052913.png)     

第一个包的编号是一个随机数。为了便于理解，这里就把它称为1号包。假定这个包的负载长度是100字节，那么可以推算出下一个包的编号应该是101。
这就是说，每个数据包都可以得到两个编号：自身的编号，以及下一个包的编号。接收方由此知道，应该按照什么顺序将它们还原成原始文件。     
